#!/usr/bin/env groovy

node {
	echo "Public Transport Delays Build"
	
	stage('Clone') {
        git 'https://github.com/mvolejnik/public-transport-delays.git'
    }
    
	stage('Maven build') {
		withMaven(
        	maven: 'M3'
    	){
    		dir('Development/ptd/ptd-build') {
      			sh "mvn clean install"
      		}
      		dir('Development/ptd') {
      			sh "mvn -N clean install"
      		}
      		dir('Development/ptd-server') {
      			sh "mvn -N clean install"
      		}
      		dir('Development/ptd') {
      			sh "mvn clean install"
      		}    
    	}    		
	}
}
	